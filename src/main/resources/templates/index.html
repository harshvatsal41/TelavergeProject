<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="ISO-8859-1">
<title>Registration and Login App</title>

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous">

</head>
<body>
	<!-- create navigation bar ( header) -->
	<nav class="navbar navbar-inverse navbar-fixed-top" style="background-color: #337ab7;">
		<div class="container">
			<div class="navbar-header">
				<!-- Navbar toggle button for collapsed menu -->
				<li>
					<a class="navbar-brand" style="color: teal" href="#" th:href="@{/}">
						<span style="color: white;" sec:authentication="principal.username">User</span>
					</a>
				</li>

				<button type="button" class="navbar-toggle collapsed"
						data-toggle="collapse" data-target="#navbar" aria-expanded="false"
						aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<!-- Brand/logo -->

			</div>
			<!-- Navbar links -->
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-right">
					<!-- Conditional links based on authentication status -->

					<!-- Convert this li into a button -->
					<li sec:authorize="isAuthenticated()">
<!--					<li sec:authorize="isAuthenticated()"><a th:href="@{/dashboard}">Dashboard</a></li>-->
						<a type="button"  style="color: white;" th:href="@{/dashboard}">
							<button  class="btn btn-primary btn-sm" >Dashboard</button>
						</a>
					</li>
					<li sec:authorize="isAuthenticated()">

						<a href="#" style="color: white;" th:href="@{/logout}">
							<button type="button" class="btn btn-primary btn-sm">Logout</button>
						</a>
					</li>
				</ul>
			</div>

		</div>
	</nav>



	<br>
	<br>
	<br>
	<br>


	<div class="container">
<!--		<h1>Registration and Login with Spring Boot, Spring Security,-->
<!--			Thymeleaf, Hibernate and MySQL</h1>-->
		Welcome

		<br>

		<br>
<!--		&lt;!&ndash; URL Shortening Form &ndash;&gt;-->
<!--		<form  th:action="@{/dashboard/shortendash}" method="post">-->
<!--			<label>-->
<!--				<input type="text" name="originalURL" placeholder="Enter URL to shorten"/>-->
<!--			</label>-->
<!--			<button type="submit" th:href="@{#}" >Shorten</button>-->
<!--		</form>-->

		<br>
		<form th:action="@{/dashboard/shortendash}" method="post" class="mb-4">
			<div class="input-group">
				<input type="text" name="originalURL" class="form-control" placeholder="Enter URL to shorten" />

				<button type="submit" class="btn btn-primary">Shorten</button>
				<br>
				<br>
				<div class="input-group-append">

				</div>
			</div>
		</form>





		<!--		<table>-->
<!--			<thead>-->
<!--				<tr>-->
<!--					<a><a th:href="${orignalUrl}" th:text="${shortnedUrl}" th:onclick="incrementCount('${url.shortenedUrl}')"></a></a>-->


<!--					<p> <span th:text="${count}"></span></p>-->

<!--				</tr>-->
<!--			</thead>-->
<!--		</table>-->

		<table class="table">
			<thead>
			<tr>
				<th>Original URL</th>
				<th>Shortened URL</th>
<!--				<th>Click Count</th>-->
			</tr>
			</thead>
			<tbody>
			<!-- Assuming 'urls' is a list of objects containing 'originalUrl', 'shortenedUrl', and 'count' attributes -->
			<tr>
				<td><a th:href="${orignalUrl}" th:text="${shortnedUrl}"></a></td>
				<td><a th:href="${orignalUrl}" th:text="${orignalUrl}"></a></td>
<!--				<td><span th:text="${count}"></span></td>-->
			</tr>
			</tbody>
		</table>





	</div>


</body>
</html>
